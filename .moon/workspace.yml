$schema: "https://moonrepo.dev/schemas/workspace.json"

# Project locations
projects:
  globs:
    - "crates/core"
    - "crates/pipeline"
    - "crates/orchestrator"
    - "crates/merge-queue"
    - "crates/opencode"
    - "crates/workflow"
    - "crates/events"
    - "crates/reconciler"
    - "crates/oya-web"
    - "crates/oya-shared"
    - "crates/oya-zellij"
    # Note: oya-ui excluded until implemented (placeholder crate)

# VCS configuration
vcs:
  manager: "git"
  defaultBranch: "main"

# Version constraint
versionConstraint: ">=1.20.0"

# HYPER-FAST LOCAL CACHE CONFIGURATION
# Remote cache runs locally on this machine for zero network latency
unstable_remote:
  host: 'grpc://localhost:9092'
  cache:
    compression: 'zstd'

# Hasher performance optimization
hasher:
  optimization: 'performance'

# Limit concurrent heavy builds (system has 32 threads, 123GB RAM)
